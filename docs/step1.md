## 1. 웹 성능예산은 어느정도가 적당하다고 생각하시나요

- 메인 페이지를 기준으로 정량/시간/규칙에 대한 웹 성능예산 산정

### 정량

#### 서울교통공사

| 구분\측정 | 이미지 최대 크기 | 웹 글꼴 최대 크기 | 글꼴 최대 갯수 | 스크립트 최대 크기 | 스크립트 최대 갯수 | HTML, CSS 최대 크기 |
|-----------|------------------|-------------------|----------------|--------------------|--------------------|---------------------|
|  Desktop  | 12.7kb           | 15.3kb            | 26             | 214kb              | 9                  | 127.0kb             |

#### 네이버지도

| 구분\측정 | 이미지 최대 크기 | 웹 글꼴 최대 크기 | 글꼴 최대 갯수 | 스크립트 최대 크기 | 스크립트 최대 갯수 | HTML, CSS 최대 크기 |
|-----------|------------------|-------------------|----------------|--------------------|--------------------|---------------------|
|  Desktop  | 334kb            | 723kb             | 1              | 242kb              | 22                 | 16.5kb              |

#### 카카오맵

| 구분\측정 | 이미지 최대 크기 | 웹 글꼴 최대 크기 | 글꼴 최대 갯수 | 스크립트 최대 크기 | 스크립트 최대 갯수 | HTML, CSS 최대 크기 |
|-----------|------------------|-------------------|----------------|--------------------|--------------------|---------------------|
|  Desktop  | 1.2kb            | 0                 | 0              | 215.0kb            | 6                  | 35.9kb              |

> 리소스 200kb 이내

### 시간

#### 서울교통공사

|  구분\측정  |  FCP   |  TTI   | Speed Index |  TBT   |  LCP   |  CLS   |
|-------------|--------|--------|-------------|--------|--------|--------|
| Mobile      | 7.2s   | 9.0s   | 8.4s        | 400ms  | 11.4s  | 0      |
| Desktop     | 1.6s   | 2.2s   | 2.4s        | 280ms  | 3.6s   | 0.014  |

#### 네이버지도

|  구분\측정  |  FCP   |  TTI   | Speed Index |  TBT   |  LCP   |  CLS   |
|-------------|--------|--------|-------------|--------|--------|--------|
| Mobile      | 2.1s   | 7.3s   | 5.7s        | 540ms  | 8.2s   | 0.03   |
| Desktop     | 0.5s   | 5.9s   | 4.5s        | 2060ms | 2.6s   | 0.019  |

#### 카카오맵

|  구분\측정  |  FCP   |  TTI   | Speed Index |  TBT   |  LCP   |  CLS   |
|-------------|--------|--------|-------------|--------|--------|--------|
| Mobile      | 1.7s   | 4.2s   | 6.4s        | 90ms   | 5.0s   | 0.139  |
| Desktop     | 0.6s   | 2.7s   | 2.9s        | 830ms  | 0.6s   | 0.018  |

> FCP 2초, TTI 5초 이내

### 규칙

#### 서울교통공사

|  구분\측정  |  점수  |
|-------------|--------|
| Mobile      | 41     |
| Desktop     | 61     |

#### 네이버지도

|  구분\측정  |  점수  |
|-------------|--------|
| Mobile      | 54     |
| Desktop     | 40     |

#### 카카오맵

|  구분\측정  |  점수  |
|-------------|--------|
| Mobile      | 72     |
| Desktop     | 68     |

> Mobile 55 이상 / Desktop 56 이상
> 평균 값이지만, 타사 대비 20% 내외로 유지

## 2. 웹 성능예산을 바탕으로 현재 지하철 노선도 서비스는 어떤 부분을 개선하면 좋을까요

1. `/js/vendors.js`의 크기를 2125KB에서 200KB 이하로 줄여본다.
    - 압축
    - 소스 스플릿
    - lazy-loading
    - 불필요한 소스 제거
2. 정적 리소스에 대해서 캐시 전략을 세운다.
    - `cache-control` 헤더를 활용한 브라우저 캐시 적용
    - CDN 서버를 활용한 서버 캐시 적용
    - 가능하다면 외부 CDN 서버 보다는 자체 CDN 서버를 활용
3. 불필요한 폰트 리소스 요청을 제거한다.
4. 전체 노선 목록 가져오기 요청에 대한 응답 시간 개선
    - sql 수정 (`LineRepository.java`)
